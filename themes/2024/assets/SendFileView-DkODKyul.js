import{c as Q,d as Se,r as w,o as Me,w as Je,a as h,b as t,e as y,_ as Ce,f as se,u as Xe,g as Ye,h as k,n,i as s,j as Ze,t as D,k as G,l as K,m as V,p as Z,v as le,T as ne,F as ie,q as et,s as ye,x as ce,y as tt,X as xe,z as ot,A as at,B as O}from"./index-Dj1Sqff5.js";import{u as rt,S as be,C as st,c as lt,a as nt,Q as it,b as ee,E as ct}from"./clipboard-DgdbZcGB.js";import{F as we}from"./file-BCz27Qa0.js";import{T as ut}from"./trash-BzVN_Eww.js";/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=Q("ClipboardCopyIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Q("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Q("CloudUploadIcon",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Q("SendIcon",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-vue-next v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Q("TerminalIcon",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),ft=Se({__name:"BorderProgressBar",props:{progress:{}},setup(H){const B=H,L=w(null),l=w(null);let f=null;const g=()=>{if(!f||!l.value||!L.value)return;const v=L.value.clientWidth,x=L.value.clientHeight;l.value.width=v,l.value.height=x;const c=4,i=8;f.lineWidth=c;const _=f.createLinearGradient(0,0,v,x);_.addColorStop(0,"#4f46e5"),_.addColorStop(.5,"#7c3aed"),_.addColorStop(1,"#db2777"),f.strokeStyle="rgba(229, 231, 235, 0.2)",z(f,c/2,c/2,v-c,x-c,i),f.stroke();const A=((v+x)*2-8*i+2*Math.PI*i)*B.progress/100;f.strokeStyle=_,f.lineCap="round",f.lineJoin="round",f.beginPath();let d=A;const m=c/2,b=v-c,U=x-c;if(d>0){const p=Math.min(b-2*i,d);f.moveTo(i+m,m),f.lineTo(p+i+m,m),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/i);f.arc(b-i+m,i+m,i,-Math.PI/2,p-Math.PI/2,!1),d-=p*i}if(d>0){const p=Math.min(U-2*i,d);f.lineTo(b+m,p+i+m),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/i);f.arc(b-i+m,U-i+m,i,0,p,!1),d-=p*i}if(d>0){const p=Math.min(b-2*i,d);f.lineTo(b-p-i+m,U+m),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/i);f.arc(i+m,U-i+m,i,Math.PI/2,Math.PI/2+p,!1),d-=p*i}if(d>0){const p=Math.min(U-2*i,d);f.lineTo(m,U-p-i+m),d-=p}if(d>0){const p=Math.min(Math.PI/2,d/i);f.arc(i+m,i+m,i,Math.PI,Math.PI+p,!1)}f.stroke()};function z(v,x,c,i,_,C){v.beginPath(),v.moveTo(x+C,c),v.lineTo(x+i-C,c),v.arcTo(x+i,c,x+i,c+C,C),v.lineTo(x+i,c+_-C),v.arcTo(x+i,c+_,x+i-C,c+_,C),v.lineTo(x+C,c+_),v.arcTo(x,c+_,x,c+_-C,C),v.lineTo(x,c+C),v.arcTo(x,c,x+C,c,C),v.closePath()}return Me(()=>{l.value&&(f=l.value.getContext("2d"),g())}),Je(()=>B.progress,g),(v,x)=>(y(),h("div",{class:"border-progress-container",ref_key:"container",ref:L},[t("canvas",{ref_key:"canvas",ref:l,class:"border-progress-canvas"},null,512)],512))}}),mt=Ce(ft,[["__scopeId","data-v-2fbf5085"]]),_e=H=>H>=1024*1024*1024?Math.round(H/(1024*1024*1024))+"GB":H>=1024*1024?Math.round(H/(1024*1024))+"MB":Math.round(H/1024)+"KB",ht={class:"p-8"},yt={class:"flex justify-center space-x-2 mb-6"},xt={key:"file",class:"grid grid-cols-1 gap-8"},bt={key:0,class:"absolute inset-0 w-full h-full"},wt={class:"block truncate"},kt={key:"text",class:"grid grid-cols-1 gap-8"},_t={class:"flex flex-col"},St={key:"audio",class:"grid grid-cols-1 gap-8"},Mt={class:"text-center"},Ct={key:0,class:"mb-4 p-4 bg-yellow-100 border border-yellow-300 rounded-lg"},$t={key:1,class:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},At=["disabled"],Tt={class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},zt={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"},It={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z M9 10h6v4H9z"},Pt={class:"text-center mb-4"},Dt={key:0,class:"text-2xl font-mono font-bold text-green-600 mb-2"},Ft={key:0},Rt={key:1},Bt={key:2},Ut=["src"],jt={class:"mt-6"},Et={class:"flex flex-col space-y-3"},Vt={class:"relative flex-grow group"},Nt=["placeholder"],Ht=["value"],Lt=["disabled"],Ot={class:"relative z-10 flex items-center justify-center text-lg"},qt={class:"mt-6 text-center"},Wt={class:"flex-1 overflow-y-auto p-6"},Gt={class:"flex items-start justify-between"},Kt={class:"flex-1 min-w-0"},Qt={class:"flex space-x-2 ml-3"},Jt=["onClick"],Xt=["onClick"],Yt={key:0,class:"text-center py-12"},Zt={class:"min-w-0 flex-1"},eo={class:"p-4 sm:p-6"},to={class:"flex items-center mb-3 sm:mb-4"},oo={class:"ml-3 sm:ml-4 min-w-0 flex-1"},ao={class:"grid grid-cols-2 gap-3 sm:gap-4"},ro={class:"flex items-center min-w-0"},so={class:"flex items-center min-w-0"},lo={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"},no={class:"space-y-3 sm:space-y-4"},io={class:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 sm:p-5 text-white"},co={class:"flex items-center justify-between mb-3 sm:mb-4"},uo={class:"text-2xl sm:text-3xl font-bold tracking-wider text-center break-all"},go={class:"flex items-center justify-between mb-2 sm:mb-3"},po={class:"bg-white p-3 sm:p-4 rounded-lg shadow-sm mb-3 sm:mb-4"},vo=Se({__name:"SendFileView",setup(H){const B=JSON.parse(localStorage.getItem("config")||"{}"),L=at(),l=Ze("isDarkMode"),f=rt(),g=w("file"),z=w(null),v=w(""),x=w(null),c=w("day"),i=w("1"),_=w(0),C=w(!1),A=w(null),d=w(!1),m=w(0),b=w(null),U=w(""),p=w("æˆ‘çš„å½•éŸ³"),J=w(""),q=w(!1),E=w(null),te=w(0),N=w(null),X=w([]),Y=se(()=>{if(typeof window>"u")return!1;const a=!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"),e=typeof window.MediaRecorder<"u",r=window.isSecureContext||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.protocol==="https:";return a&&e&&r}),$e=se(()=>d.value?!1:g.value==="file"?z.value!==null:g.value==="text"?v.value.trim()!=="":g.value==="audio"?b.value!==null:!1),S=Xe(),ue=se(()=>f.shareData),W=w(""),Ae=()=>{const a=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e=a?["audio/mp4","audio/mp4;codecs=mp4a.40.2","audio/mpeg","audio/mp3","audio/wav","audio/ogg;codecs=opus"]:["audio/mp4","audio/mp4;codecs=mp4a.40.2","audio/mpeg","audio/mp3","audio/wav","audio/ogg;codecs=opus"];console.log(`ğŸµ æ£€æµ‹éŸ³é¢‘æ ¼å¼æ”¯æŒ (${a?"ç§»åŠ¨ç«¯":"æ¡Œé¢ç«¯"}) - ä¸ä½¿ç”¨WebM:`);for(const r of e){const o=MediaRecorder.isTypeSupported(r);if(console.log(`${r}: ${o?"âœ…æ”¯æŒ":"âŒä¸æ”¯æŒ"}`),o)return console.log(`ğŸ¯ é€‰æ‹©éŸ³é¢‘æ ¼å¼: ${r}`),a&&(r.includes("mp4")||r.includes("aac")?console.log("ğŸ“± ä½¿ç”¨ç§»åŠ¨ç«¯ä¼˜åŒ–çš„AACæ ¼å¼ï¼Œç¡®ä¿æœ€ä½³å…¼å®¹æ€§å’Œæ’­æ”¾æ”¯æŒ"):r.includes("mpeg")||r.includes("mp3")?console.log("ğŸ“± ä½¿ç”¨MP3æ ¼å¼ï¼Œç§»åŠ¨ç«¯å¹¿æ³›æ”¯æŒä¸”æ’­æ”¾å…¼å®¹æ€§å¥½"):r.includes("wav")&&console.log("ğŸ“± ä½¿ç”¨WAVæ ¼å¼ï¼Œé€šç”¨æ€§å¥½ä½†æ–‡ä»¶è¾ƒå¤§")),r}return console.log("âš ï¸ æœªæ‰¾åˆ°é¦–é€‰çš„éŸ³é¢‘æ ¼å¼"),console.log("ğŸ”„ å¼ºåˆ¶ä½¿ç”¨å…¼å®¹æ€§æœ€å¥½çš„æ ¼å¼"),"audio/wav"},Te=async()=>{if(!Y.value){S.showAlert("æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å½•åˆ¶åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨HTTPSåè®®æˆ–æ”¯æŒçš„æµè§ˆå™¨","error");return}d.value?de():(b.value&&ge(),await ze())},ze=async()=>{try{if(q.value=!1,navigator.permissions)try{if((await navigator.permissions.query({name:"microphone"})).state==="denied"){S.showAlert("éº¦å…‹é£æƒé™è¢«æ‹’ç»ï¼Œè¯·åœ¨æµè§ˆå™¨è®¾ç½®ä¸­å…è®¸éº¦å…‹é£è®¿é—®æƒé™","error");return}}catch{console.log("æ— æ³•æŸ¥è¯¢æƒé™çŠ¶æ€ï¼Œç»§ç»­å°è¯•å½•éŸ³")}const a=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:{ideal:44100,min:16e3},channelCount:{ideal:1},sampleSize:{ideal:16}}}),e=Ae(),r=e?{mimeType:e}:{};E.value=new MediaRecorder(a,r),X.value=[],E.value.ondataavailable=o=>{o.data.size>0&&X.value.push(o.data)},E.value.onstop=()=>{let o=e;!o&&E.value&&E.value.mimeType&&(o=E.value.mimeType,console.log("ğŸ“‹ æ£€æµ‹åˆ°å®é™…å½•åˆ¶æ ¼å¼:",o)),o||(o="audio/wav",console.log("âš ï¸ æ— æ³•æ£€æµ‹æ ¼å¼ï¼Œä½¿ç”¨WAVä½œä¸ºå›é€€æ ¼å¼")),b.value=new Blob(X.value,{type:o}),U.value=URL.createObjectURL(b.value),J.value=o,Ie(o),a.getTracks().forEach(u=>u.stop()),console.log("ğŸ¤ å½•åˆ¶å®Œæˆï¼"),console.log(`ğŸ“ å®é™…å½•åˆ¶æ ¼å¼: ${o}`),console.log(`ğŸ“ æ–‡ä»¶å¤§å°: ${(b.value.size/1024).toFixed(2)} KB`),console.log(`â±ï¸ å½•åˆ¶æ—¶é•¿: ${m.value} ç§’`),console.log(`ğŸ“ æ–‡ä»¶å: ${p.value}`),q.value=!0,console.log("ğŸ“‹ å·²è®¾ç½®è‡ªåŠ¨å¤åˆ¶æ ‡å¿—ï¼Œå°†åœ¨ä¸Šä¼ æˆåŠŸåç«‹å³å¤åˆ¶é“¾æ¥")},E.value.onerror=o=>{console.error("MediaRecorderé”™è¯¯:",o),S.showAlert("å½•éŸ³è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯","error"),a.getTracks().forEach(u=>u.stop())},E.value.start(1e3),d.value=!0,te.value=Date.now(),N.value=setInterval(()=>{m.value=Math.floor((Date.now()-te.value)/1e3)},1e3)}catch(a){console.error("å½•éŸ³å¯åŠ¨å¤±è´¥:",a);let e="å½•éŸ³å¯åŠ¨å¤±è´¥";a.name==="NotAllowedError"||a.name==="PermissionDeniedError"?e='éº¦å…‹é£æƒé™è¢«æ‹’ç»ã€‚è¯·åœ¨Chromeæµè§ˆå™¨åœ°å€æ ç‚¹å‡»ğŸ”’æˆ–ğŸ¤å›¾æ ‡ï¼Œé€‰æ‹©"å…è®¸"éº¦å…‹é£è®¿é—®æƒé™ï¼Œç„¶ååˆ·æ–°é¡µé¢é‡è¯•ã€‚':a.name==="NotFoundError"||a.name==="DevicesNotFoundError"?e="æœªæ‰¾åˆ°éº¦å…‹é£è®¾å¤‡ï¼Œè¯·ç¡®ä¿æ‚¨çš„è®¾å¤‡å·²è¿æ¥éº¦å…‹é£å¹¶åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨":a.name==="NotReadableError"||a.name==="TrackStartError"?e="éº¦å…‹é£è¢«å…¶ä»–åº”ç”¨å ç”¨ï¼Œè¯·å…³é—­å…¶ä»–æ­£åœ¨ä½¿ç”¨éº¦å…‹é£çš„åº”ç”¨ç¨‹åºï¼Œç„¶åé‡è¯•":a.name==="OverconstrainedError"||a.name==="ConstraintNotSatisfiedError"?e="éº¦å…‹é£ä¸æ”¯æŒæ‰€éœ€çš„å½•éŸ³æ ¼å¼ï¼Œè¯·å°è¯•ä½¿ç”¨å…¶ä»–è®¾å¤‡":a.name==="SecurityError"?e="å®‰å…¨é™åˆ¶ï¼šè¯·ç¡®ä¿é¡µé¢åœ¨HTTPSç¯å¢ƒä¸‹è¿è¡Œ":a.name==="AbortError"?e="å½•éŸ³è¯·æ±‚è¢«ä¸­æ–­ï¼Œè¯·é‡è¯•":e=`å½•éŸ³å¯åŠ¨å¤±è´¥: ${a.message||"æœªçŸ¥é”™è¯¯"}`,S.showAlert(e,"error")}},de=()=>{E.value&&d.value&&(E.value.stop(),d.value=!1,N.value&&(clearInterval(N.value),N.value=null))},ge=()=>{d.value&&de(),b.value=null,U.value="",X.value=[],m.value=0,te.value=0,p.value="æˆ‘çš„å½•éŸ³",J.value="",q.value=!1,N.value&&(clearInterval(N.value),N.value=null)},Ie=a=>{const e=p.value.replace(/\.(mp3|mp4|wav|webm|ogg|m4a|aac)$/i,"");let r=".wav";a.includes("mp4")||a.includes("aac")?r=".m4a":a.includes("mpeg")||a.includes("mp3")?r=".mp3":a.includes("webm")?r=".webm":a.includes("ogg")?r=".ogg":a.includes("wav")&&(r=".wav"),p.value=e+r,console.log(`ğŸ“ æ–‡ä»¶åå·²æ›´æ–°ä¸º: ${p.value} (MIME: ${a})`)},oe=a=>{const e=Math.floor(a/60),r=a%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};Ye(()=>{N.value&&clearInterval(N.value),U.value&&URL.revokeObjectURL(U.value)});const Pe=()=>{var a;(a=x.value)==null||a.click()},De=async a=>{const e=a.target;if(e.files&&e.files.length>0){const r=e.files[0];if(z.value=r,!re())return;W.value=await ae(r),console.log(W.value)}},Fe=async a=>{var e;if((e=a.dataTransfer)!=null&&e.files&&a.dataTransfer.files.length>0){const r=a.dataTransfer.files[0];if(z.value=r,!re())return;W.value=await ae(r)}},Re=async a=>{var r;const e=(r=a.clipboardData)==null?void 0:r.items;if(e)for(const o of Array.from(e))if(o.kind==="file"){const u=o.getAsFile();if(u){if(u.size===0){S.showAlert("æ— æ³•è¯»å–ç©ºæ–‡ä»¶","error");return}if(z.value=u,!re())return;try{W.value=await ae(u),S.showAlert("å·²ä»å‰ªè´´æ¿æ·»åŠ æ–‡ä»¶ï¼š"+u.name,"success")}catch($){S.showAlert("æ–‡ä»¶å¤„ç†å¤±è´¥","error"),console.error("File hash calculation failed:",$)}break}}else g.value="text",e[0].getAsString(u=>{v.value+=u})},ae=async a=>new Promise(e=>{const o=new FileReader;let u=0;const $=Math.ceil(a.size/2097152);o.onload=async M=>{const T=new Uint8Array(M.target.result);try{if(window.isSecureContext){const R=await crypto.subtle.digest("SHA-256",T),j=Array.from(new Uint8Array(R)).map(P=>P.toString(16).padStart(2,"0")).join("");u++,u<$?F():e(j)}else{const R=pe(a);e(R)}}catch{const I=pe(a);e(I)}};const F=()=>{const M=u*2097152,T=M+2097152>=a.size?a.size:M+2097152;o.readAsArrayBuffer(a.slice(M,T))};F()}),pe=a=>{const e=`${a.name}-${a.size}-${a.lastModified}`;let r=0;for(let o=0;o<e.length;o++){const u=e.charCodeAt(o);r=(r<<5)-r+u,r=r&r}return Math.abs(r).toString(16).padStart(64,"0")},Be=(a=c.value)=>{switch(a){case"day":return"è¾“å…¥å¤©æ•°";case"hour":return"è¾“å…¥å°æ—¶æ•°";case"minute":return"è¾“å…¥åˆ†é’Ÿæ•°";case"count":return"è¾“å…¥æŸ¥çœ‹æ¬¡æ•°";case"forever":return"æ°¸ä¹…";default:return"è¾“å…¥å€¼"}},ve=(a=c.value)=>{switch(a){case"day":return"å¤©";case"hour":return"å°æ—¶";case"minute":return"åˆ†é’Ÿ";case"count":return"æ¬¡";case"forever":return"æ°¸ä¹…";default:return""}},Ue=async a=>{var e,r;try{const u=Math.ceil(a.size/5242880),$=await O.post("chunk/upload/init/",{file_name:a.name,file_size:a.size,chunk_size:5242880,file_hash:W.value});if($.code!==200)throw new Error("åˆå§‹åŒ–åˆ‡ç‰‡ä¸Šä¼ å¤±è´¥");if($.detail.existed)return $;const F=$.detail.upload_id;for(let T=0;T<u;T++){const R=T*5242880,I=Math.min(R+5242880,a.size),j=a.slice(R,I),P=new FormData;if(P.append("chunk",new Blob([j],{type:a.type})),(await O.post(`chunk/upload/chunk/${F}/${T}`,P,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Ke=>{const Qe=Math.round((T*5242880+Ke.loaded)*100/a.size);_.value=Qe}})).code!==200)throw new Error(`åˆ‡ç‰‡ ${T} ä¸Šä¼ å¤±è´¥`)}const M=await O.post(`chunk/upload/complete/${F}`,{expire_value:i.value?parseInt(i.value):1,expire_style:c.value});if(M.code!==200)throw new Error("å®Œæˆä¸Šä¼ å¤±è´¥");return M}catch(o){throw console.error("åˆ‡ç‰‡ä¸Šä¼ å¤±è´¥:",o),(r=(e=o.response)==null?void 0:e.data)!=null&&r.detail?S.showAlert(o.response.data.detail,"error"):S.showAlert("ä¸Šä¼ å¤±è´¥,è¯·ç¨åé‡è¯•","error"),o}},je=async a=>{const e=new FormData,r={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:u=>{const $=Math.round(u.loaded*100/u.total);_.value=$}};return e.append("file",a),e.append("expire_value",i.value),e.append("expire_style",c.value),await O.post("share/file/",e,r)},Ee=async()=>{if(!b.value)throw new Error("éŸ³é¢‘æ–‡ä»¶ä¸ºç©º");const a=p.value.trim()||"æˆ‘çš„å½•éŸ³",e=m.value;try{const r=J.value||b.value.type||"audio/wav";console.log("ğŸ” ä¸Šä¼ éŸ³é¢‘å®é™…æ ¼å¼:",r),console.log("ğŸ“‹ ä¿å­˜çš„æ ¼å¼:",J.value),console.log("ğŸ“¦ Blobæ ¼å¼:",b.value.type);let o=".wav",u="wav";r.includes("mp4")||r.includes("aac")?(o=".m4a",u="m4a"):r.includes("mpeg")||r.includes("mp3")?(o=".mp3",u="mp3"):r.includes("wav")?(o=".wav",u="wav"):r.includes("ogg")?(o=".ogg",u="ogg"):r.includes("webm")&&(o=".webm",u="webm");const $=a.replace(/\.(mp3|mp4|wav|webm|ogg|m4a|aac)$/i,""),F=$+o;console.log("ğŸ“¤ ä¸Šä¼ å‚æ•°:"),console.log(`ğŸ“ æ–‡ä»¶å: ${F}`),console.log(`ğŸµ æ ¼å¼å‚æ•°: ${u}`),console.log(`ğŸ”– MIMEç±»å‹: ${r}`);const M=new FormData;M.append("audio_file",b.value,F),M.append("name",$),M.append("duration",e.toString()),M.append("format",u),M.append("expire_value",i.value),M.append("expire_style",c.value);const T=await O.post("share/audio/",M,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:R=>{const I=Math.round(R.loaded*100/R.total);_.value=I}});return console.log("âœ… éŸ³é¢‘ä¸Šä¼ æˆåŠŸï¼Œå®é™…ä½¿ç”¨æ ¼å¼:",u),T}catch(r){throw console.error("âŒ éŸ³é¢‘ä¸Šä¼ å¤±è´¥:",r),r}},Ve=()=>B.openUpload===0&&localStorage.getItem("token")===null?(S.showAlert("æ¸¸å®¢ä¸Šä¼ åŠŸèƒ½å·²å…³é—­","error"),!1):!0,Ne=a=>a.size>B.uploadSize?(S.showAlert(`æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶ (${_e(B.uploadSize)})`,"error"),z.value=null,!1):!0,fe=(a,e)=>{if(a==="forever"||a==="count")return!0;const r=B.max_save_seconds||0;if(r===0)return!0;let o=0;switch(a){case"minute":o=parseInt(e)*60;break;case"hour":o=parseInt(e)*3600;break;case"day":o=parseInt(e)*86400;break;default:return!1}return o<=r},re=()=>!(!Ve()||g.value==="file"&&z.value&&!Ne(z.value)||!fe(c.value,i.value)),He=async()=>{var a,e;if(g.value==="file"&&!z.value){S.showAlert("è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶","error");return}if(g.value==="text"&&!v.value.trim()){S.showAlert("è¯·è¾“å…¥è¦å‘é€çš„æ–‡æœ¬","error");return}if(g.value==="audio"&&!b.value){S.showAlert("è¯·å…ˆå½•åˆ¶éŸ³é¢‘","error");return}if(c.value!=="forever"&&!i.value){S.showAlert("è¯·è¾“å…¥è¿‡æœŸå€¼","error");return}if(!fe(c.value,i.value)){const r=Math.floor(B.max_save_seconds/86400);S.showAlert(`è¿‡æœŸæ—¶é—´ä¸èƒ½è¶…è¿‡${r}å¤©`,"error");return}try{let r;if(g.value==="file")B.enableChunk?r=await Ue(z.value):r=await je(z.value);else if(g.value==="text"){const o=new FormData;o.append("text",v.value),o.append("expire_value",i.value),o.append("expire_style",c.value),r=await O.post("share/text/",o,{headers:{"Content-Type":"multipart/form-data"}})}else g.value==="audio"&&(r=await Ee());if(r&&r.code===200){const o=r.detail.code,u=r.detail.name;console.log(`ğŸ“‹ å¼€å§‹æ‰§è¡Œ${g.value}ç±»å‹çš„è‡ªåŠ¨å¤åˆ¶`);try{let P=!1;g.value==="audio"?(console.log("ğŸµ éŸ³é¢‘ä¸Šä¼ æˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œè‡ªåŠ¨å¤åˆ¶"),P=await ee(o,2),console.log(P?"âœ… éŸ³é¢‘å½•åˆ¶åè‡ªåŠ¨å¤åˆ¶æˆåŠŸ":"âŒ éŸ³é¢‘å½•åˆ¶åè‡ªåŠ¨å¤åˆ¶å¤±è´¥ï¼Œå·²æä¾›æ‰‹åŠ¨å¤åˆ¶æ–¹æ¡ˆ"),q.value=!1):g.value==="file"?(console.log("ğŸ“ æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œè‡ªåŠ¨å¤åˆ¶"),P=await ee(o,3),console.log(P?"âœ… æ–‡ä»¶ä¸Šä¼ åè‡ªåŠ¨å¤åˆ¶æˆåŠŸ":"âŒ æ–‡ä»¶ä¸Šä¼ åè‡ªåŠ¨å¤åˆ¶å¤±è´¥ï¼Œå·²æä¾›æ‰‹åŠ¨å¤åˆ¶æ–¹æ¡ˆ")):g.value==="text"&&(console.log("ğŸ“ æ–‡æœ¬å‘é€æˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œè‡ªåŠ¨å¤åˆ¶"),P=await ee(o,1),console.log(P?"âœ… æ–‡æœ¬å‘é€åè‡ªåŠ¨å¤åˆ¶æˆåŠŸ":"âŒ æ–‡æœ¬å‘é€åè‡ªåŠ¨å¤åˆ¶å¤±è´¥ï¼Œå·²æä¾›æ‰‹åŠ¨å¤åˆ¶æ–¹æ¡ˆ"))}catch(P){console.error("å¤åˆ¶é“¾æ¥æ—¶å‘ç”Ÿé”™è¯¯:",P)}let $="",F="";g.value==="text"?($=`${(v.value.length/1024).toFixed(2)} KB`,F="ğŸ“"):g.value==="audio"?($=`${((b.value?b.value.size:0)/1024).toFixed(2)} KB`,F="ğŸµ"):($=`${(z.value.size/(1024*1024)).toFixed(1)} MB`,F="ğŸ“");const M={id:Date.now(),filename:`${F} ${u}`,date:new Date().toISOString().split("T")[0],size:$,expiration:c.value==="forever"?"æ°¸ä¹…":`${i.value}${ve()}åè¿‡æœŸ`,retrieveCode:o};f.addShareData(M);const T=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),R=/iPhone|iPad|iPod/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent);let I="",j=4e3;g.value==="audio"?T&&!q.value?(I=`ğŸµ éŸ³é¢‘å‘é€æˆåŠŸï¼
â±ï¸ æ—¶é•¿: ${oe(m.value)}
ğŸ“‹ å–ä»¶ç ï¼š${o}
ğŸ”— å®Œæ•´é“¾æ¥ï¼š${window.location.origin}/#/?code=${o}`,j=1e4):(I=`ğŸµ éŸ³é¢‘å‘é€æˆåŠŸï¼æ—¶é•¿: ${oe(m.value)}ï¼Œå–ä»¶ç ï¼š${o}`,j=T?6e3:4e3):g.value==="file"?R?(I=`ğŸ“ æ–‡ä»¶å‘é€æˆåŠŸï¼
ğŸ“‹ å–ä»¶ç ï¼š${o}
ğŸ”— å®Œæ•´é“¾æ¥ï¼š${window.location.origin}/#/?code=${o}`,j=8e3):(I=`ğŸ“ æ–‡ä»¶å‘é€æˆåŠŸï¼å–ä»¶ç ï¼š${o}`,j=T?6e3:4e3):g.value==="text"&&(R?(I=`ğŸ“ æ–‡æœ¬å‘é€æˆåŠŸï¼
ğŸ“‹ å–ä»¶ç ï¼š${o}
ğŸ”— å®Œæ•´é“¾æ¥ï¼š${window.location.origin}/#/?code=${o}`,j=8e3):(I=`ğŸ“ æ–‡æœ¬å‘é€æˆåŠŸï¼å–ä»¶ç ï¼š${o}`,j=T?6e3:4e3)),S.showAlert(I,"success",j),A.value=M,z.value=null,v.value="",_.value=0,g.value==="audio"&&setTimeout(()=>{ge()},200)}else throw new Error("æœåŠ¡å™¨å“åº”å¼‚å¸¸")}catch(r){console.error("å‘é€å¤±è´¥:",r),(e=(a=r.response)==null?void 0:a.data)!=null&&e.detail?S.showAlert(r.response.data.detail,"error"):S.showAlert("å‘é€å¤±è´¥,è¯·ç¨åé‡è¯•","error")}finally{_.value=0}},Le=()=>{L.push("/")},me=()=>{C.value=!C.value},Oe=a=>{A.value=a},qe=a=>{const e=f.shareData.findIndex(r=>r.id===a);e!==-1&&f.deleteShareData(e)},We=window.location.origin+"/#/",Ge=a=>`${We}?code=${a.retrieveCode}`,he=a=>{const r=(parseInt(i.value)||0)+a;r>=1&&(i.value=r.toString())};return Me(()=>{console.log("SendFileView mounted")}),(a,e)=>{const r=tt("router-link");return y(),h("div",{class:"min-h-screen flex items-center justify-center p-4 overflow-hidden transition-colors duration-300",onPaste:G(Re,["prevent"])},[t("div",{class:n(["rounded-3xl shadow-2xl overflow-hidden border w-full max-w-md transition-colors duration-300",[s(l)?"bg-white bg-opacity-10 backdrop-filter backdrop-blur-xl border-gray-700":"bg-white border-gray-200"]])},[t("div",ht,[t("h2",{class:n(["text-3xl font-extrabold text-center mb-8 cursor-pointer transition-colors duration-300",[s(l)?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 via-purple-300 to-pink-300":"text-indigo-600"]]),onClick:Le},D(s(B).name),3),t("form",{onSubmit:G(He,["prevent"]),class:"space-y-8"},[t("div",yt,[t("button",{type:"button",onClick:e[0]||(e[0]=o=>g.value="file"),class:n(["px-3 py-2 rounded-lg text-sm",g.value==="file"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"])}," å‘é€æ–‡ä»¶ ",2),t("button",{type:"button",onClick:e[1]||(e[1]=o=>g.value="text"),class:n(["px-3 py-2 rounded-lg text-sm",g.value==="text"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"])}," å‘é€æ–‡æœ¬ ",2),t("button",{type:"button",onClick:e[2]||(e[2]=o=>g.value="audio"),class:n(["px-3 py-2 rounded-lg text-sm",g.value==="audio"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"])}," éŸ³é¢‘å½•åˆ¶ ",2)]),k(ne,{name:"fade",mode:"out-in"},{default:K(()=>[g.value==="file"?(y(),h("div",xt,[t("div",{class:n(["rounded-xl p-8 flex flex-col items-center justify-center border-2 border-dashed transition-all duration-300 group cursor-pointer relative",[s(l)?"bg-gray-800 bg-opacity-50 border-gray-600 hover:border-indigo-500":"bg-gray-100 border-gray-300 hover:border-indigo-500"]]),onClick:Pe,onDragover:e[3]||(e[3]=G(()=>{},["prevent"])),onDrop:G(Fe,["prevent"])},[t("input",{id:"file-upload",type:"file",class:"hidden",onChange:De,ref_key:"fileInput",ref:x},null,544),_.value>0?(y(),h("div",bt,[k(mt,{progress:_.value},null,8,["progress"])])):V("",!0),k(s(gt),{class:n(["w-16 h-16 transition-colors duration-300",s(l)?"text-gray-400 group-hover:text-indigo-400":"text-gray-600 group-hover:text-indigo-600"])},null,8,["class"]),t("p",{class:n(["mt-4 text-sm transition-colors duration-300 w-full text-center",s(l)?"text-gray-400 group-hover:text-indigo-400":"text-gray-600 group-hover:text-indigo-600"])},[t("span",wt,D(z.value?z.value.name:"ç‚¹å‡»æˆ–æ‹–æ”¾æ–‡ä»¶åˆ°æ­¤å¤„ä¸Šä¼ "),1)],2),t("p",{class:n(["mt-2 text-xs",s(l)?"text-gray-500":"text-gray-400"])}," æ”¯æŒå„ç§å¸¸è§æ ¼å¼ï¼Œæœ€å¤§"+D(s(_e)(s(B).uploadSize)),3)],34)])):g.value==="text"?(y(),h("div",kt,[t("div",_t,[Z(t("textarea",{id:"text-content","onUpdate:modelValue":e[4]||(e[4]=o=>v.value=o),rows:"7",class:n(["flex-grow px-4 py-3 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-300 resize-none",s(l)?"bg-gray-800 bg-opacity-50 text-white":"bg-white text-gray-900 border border-gray-300"]),placeholder:"åœ¨æ­¤è¾“å…¥è¦å‘é€çš„æ–‡æœ¬..."},null,2),[[le,v.value]])])])):g.value==="audio"?(y(),h("div",St,[t("div",Mt,[Y.value?V("",!0):(y(),h("div",Ct,e[15]||(e[15]=[t("p",{class:"text-yellow-800 text-sm"}," âš ï¸ éŸ³é¢‘å½•åˆ¶åŠŸèƒ½éœ€è¦åœ¨HTTPSç¯å¢ƒä¸‹è¿è¡Œï¼Œæˆ–åœ¨æ”¯æŒçš„æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚ ",-1)]))),Y.value?(y(),h("div",$t,e[16]||(e[16]=[t("div",{class:"text-blue-800 text-sm space-y-2"},[t("p",{class:"font-medium"},"ğŸ“± æ‰‹æœºå½•éŸ³æç¤ºï¼š"),t("ul",{class:"list-disc list-inside space-y-1 text-left"},[t("li",null,"ç¡®ä¿ç½‘ç«™ä½¿ç”¨HTTPSåè®®"),t("li",null,"ç‚¹å‡»å½•éŸ³æŒ‰é’®æ—¶å…è®¸éº¦å…‹é£æƒé™"),t("li",null,"å¦‚æœæƒé™è¢«æ‹’ç»ï¼Œç‚¹å‡»åœ°å€æ çš„ğŸ”’æˆ–ğŸ¤å›¾æ ‡é‡æ–°æˆæƒ"),t("li",null,"å…³é—­å…¶ä»–å¯èƒ½å ç”¨éº¦å…‹é£çš„åº”ç”¨")])],-1)]))):V("",!0),t("button",{type:"button",onClick:Te,disabled:!Y.value,class:n(["w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",[d.value?"bg-gradient-to-br from-green-500 to-green-600 animate-pulse":b.value?"bg-gradient-to-br from-orange-500 to-orange-600":"bg-gradient-to-br from-red-500 to-red-600"]])},[(y(),h("svg",Tt,[d.value?(y(),h("path",It)):(y(),h("path",zt))]))],10,At),t("div",Pt,[d.value?(y(),h("div",Dt,D(oe(m.value)),1)):V("",!0),t("p",{class:n(["text-sm text-gray-600",[s(l)?"text-gray-400":"text-gray-600"]])},[d.value?(y(),h("span",Ft,"æ­£åœ¨å½•åˆ¶... ç‚¹å‡»åœæ­¢")):b.value?(y(),h("span",Rt,"å½•åˆ¶å®Œæˆï¼Œç‚¹å‡»é‡æ–°å½•åˆ¶")):(y(),h("span",Bt,"ç‚¹å‡»å¼€å§‹å½•åˆ¶"))],2)]),b.value?(y(),h("audio",{key:2,src:U.value,controls:"",class:"w-full rounded-lg mb-4"},null,8,Ut)):V("",!0),t("div",jt,[t("label",{class:n(["block text-sm font-medium mb-2",s(l)?"text-gray-300":"text-gray-700"])}," å½•éŸ³æ–‡ä»¶å ",2),Z(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>p.value=o),type:"text",placeholder:"æˆ‘çš„å½•éŸ³",class:n(["w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-300",s(l)?"bg-gray-800 bg-opacity-50 text-white border border-gray-600":"bg-white text-gray-900 border border-gray-300"])},null,2),[[le,p.value]])])])])):V("",!0)]),_:1}),t("div",Et,[t("label",{class:n(["text-sm font-medium",s(l)?"text-gray-300":"text-gray-700"])}," è¿‡æœŸæ—¶é—´ ",2),t("div",Vt,[t("div",{class:n(["relative h-11 rounded-xl border transition-all duration-300",s(l)?"bg-gray-800/50 border-gray-700/50 group-hover:border-gray-600":"bg-white border-gray-200 group-hover:border-gray-300"])},[c.value!=="forever"?(y(),h(ie,{key:0},[Z(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>i.value=o),type:"number",placeholder:Be(),min:"1",class:n(["w-full h-full px-4 pr-32 rounded-xl placeholder-gray-400 transition-all duration-300","focus:outline-none focus:ring-2 focus:ring-offset-0","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none","bg-transparent",s(l)?"text-gray-100 focus:ring-indigo-500/70 placeholder-gray-500":"text-gray-900 focus:ring-indigo-500/50 placeholder-gray-400"])},null,10,Nt),[[le,i.value]]),t("div",{class:n(["absolute right-24 top-0 h-full flex flex-col border-l",[s(l)?"border-gray-700/50":"border-gray-200"]])},[t("button",{type:"button",onClick:e[7]||(e[7]=o=>he(1)),class:n(["flex-1 px-2 flex items-center justify-center transition-all duration-200",[s(l)?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-50 text-gray-500 hover:text-gray-700"]])},e[17]||(e[17]=[t("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),2),t("button",{type:"button",onClick:e[8]||(e[8]=o=>he(-1)),class:n(["flex-1 px-2 flex items-center justify-center transition-all duration-200",[s(l)?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-50 text-gray-500 hover:text-gray-700"]])},e[18]||(e[18]=[t("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),2)],2)],64)):V("",!0),Z(t("select",{"onUpdate:modelValue":e[9]||(e[9]=o=>c.value=o),class:n(["absolute right-0 top-0 h-full appearance-none cursor-pointer","focus:outline-none focus:ring-2 focus:ring-offset-0",c.value==="forever"?"w-full px-4":"w-24 pl-3 pr-8 border-l",s(l)?"text-gray-100 border-gray-700/50 focus:ring-indigo-500/70 bg-gray-800/50":"text-gray-900 border-gray-200 focus:ring-indigo-500/50 bg-white"])},[(y(!0),h(ie,null,ye(s(B).expireStyle,o=>(y(),h("option",{value:o,key:o,class:n([s(l)?"bg-gray-800 text-gray-100":"bg-white text-gray-900"])},D(ve(o)),11,Ht))),128))],2),[[et,c.value]]),t("div",{class:n(["absolute pointer-events-none",[c.value==="forever"?"right-3":"right-2","top-1/2 -translate-y-1/2"]])},[(y(),h("svg",{class:n(["w-4 h-4 transition-colors duration-300",[s(l)?"text-gray-400":"text-gray-500"]]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[19]||(e[19]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2)],2)])]),t("button",{type:"submit",disabled:!$e.value,class:"w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold py-4 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 transition-all duration-300 transform hover:scale-105 hover:shadow-lg relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[e[21]||(e[21]=t("span",{class:"absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"},null,-1)),t("span",Ot,[k(s(pt),{class:"w-6 h-6 mr-2"}),e[20]||(e[20]=t("span",null,"å®‰å…¨å¯„é€",-1))])],8,Lt)],32),t("div",qt,[k(r,{to:"/",class:"text-indigo-400 hover:text-indigo-300 transition duration-300"},{default:K(()=>e[22]||(e[22]=[ce(" éœ€è¦å–ä»¶ï¼Ÿç‚¹å‡»è¿™é‡Œ ",-1)])),_:1,__:[22]})])]),t("div",{class:n(["px-8 py-4 bg-opacity-50 flex justify-between items-center",[s(l)?"bg-gray-800":"bg-gray-100"]])},[t("span",{class:n(["text-sm flex items-center",[s(l)?"text-gray-300":"text-gray-800"]])},[k(s(be),{class:"w-4 h-4 mr-1 text-green-400"}),e[23]||(e[23]=ce(" å®‰å…¨åŠ å¯† ",-1))],2),t("button",{onClick:me,class:n(["text-sm hover:text-indigo-300 transition duration-300 flex items-center",[s(l)?"text-indigo-400":"text-indigo-600"]])},[e[24]||(e[24]=ce(" å‘ä»¶è®°å½• ",-1)),k(s(st),{class:"w-4 h-4 ml-1"})],2)],2)],2),k(ne,{name:"drawer"},{default:K(()=>[C.value?(y(),h("div",{key:0,class:n(["fixed inset-y-0 right-0 w-full sm:w-120 bg-opacity-70 backdrop-filter backdrop-blur-xl shadow-2xl z-50 overflow-hidden flex flex-col",[s(l)?"bg-gray-900":"bg-white"]])},[t("div",{class:n(["flex justify-between items-center p-6 border-b",[s(l)?"border-gray-700":"border-gray-200"]])},[t("h3",{class:n(["text-xl font-semibold",[s(l)?"text-white":"text-gray-900"]])}," å‘ä»¶è®°å½• ",2),t("button",{onClick:me,class:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[k(s(xe),{class:n(["w-6 h-6",[s(l)?"text-gray-400":"text-gray-500"]])},null,8,["class"])])],2),t("div",Wt,[k(ot,{name:"list",tag:"div",class:"space-y-4"},{default:K(()=>[(y(!0),h(ie,null,ye(ue.value,o=>(y(),h("div",{key:o.id,class:n(["rounded-xl p-4 border transition-all duration-300 hover:shadow-md",[s(l)?"bg-gray-800 bg-opacity-50 border-gray-700 hover:border-gray-600":"bg-gray-50 border-gray-200 hover:border-gray-300"]])},[t("div",Gt,[t("div",Kt,[t("h4",{class:n(["font-medium text-sm truncate",[s(l)?"text-white":"text-gray-900"]])},D(o.filename),3),t("p",{class:n(["text-xs mt-1 truncate",[s(l)?"text-gray-400":"text-gray-500"]])},D(o.size)+" Â· "+D(o.date),3),t("p",{class:n(["text-xs mt-1 truncate",[s(l)?"text-gray-400":"text-gray-500"]])},D(o.expiration),3)]),t("div",Qt,[t("button",{onClick:u=>Oe(o),class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[k(s(ct),{class:n(["w-4 h-4",[s(l)?"text-gray-400":"text-gray-500"]])},null,8,["class"])],8,Jt),t("button",{onClick:u=>qe(o.id),class:"p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-red-900 transition-colors"},[k(s(ut),{class:"w-4 h-4 text-red-500"})],8,Xt)])])],2))),128))]),_:1}),ue.value.length===0?(y(),h("div",Yt,[k(s(we),{class:n(["w-16 h-16 mx-auto mb-4",[s(l)?"text-gray-600":"text-gray-300"]])},null,8,["class"]),t("p",{class:n([s(l)?"text-gray-400":"text-gray-500"])}," æš‚æ— å‘ä»¶è®°å½• ",2)])):V("",!0)])],2)):V("",!0)]),_:1}),k(ne,{name:"fade"},{default:K(()=>[A.value?(y(),h("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:e[14]||(e[14]=G(o=>A.value=null,["self"]))},[t("div",{class:n(["w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-300",[s(l)?"bg-gray-900":"bg-white"]])},[t("div",{class:n(["px-4 sm:px-6 py-3 sm:py-4 border-b flex justify-between items-center",[s(l)?"border-gray-800 bg-gray-800":"border-gray-100 bg-gray-50"]])},[t("div",Zt,[t("h3",{class:n(["text-base sm:text-lg font-semibold truncate",[s(l)?"text-white":"text-gray-900"]])}," æ–‡ä»¶è¯¦æƒ… ",2),t("button",{onClick:e[10]||(e[10]=o=>A.value=null),class:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[k(s(xe),{class:n(["w-4 h-4 sm:w-5 sm:h-5",[s(l)?"text-gray-400":"text-gray-500"]])},null,8,["class"])])])],2),t("div",eo,[t("div",{class:n(["rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",[s(l)?"bg-gray-800 bg-opacity-50":"bg-gray-50 bg-opacity-95"]])},[t("div",to,[t("div",{class:n(["p-2 sm:p-3 rounded-lg",[s(l)?"bg-gray-800":"bg-white"]])},[k(s(we),{class:n(["w-5 h-5 sm:w-6 sm:h-6",[s(l)?"text-indigo-400":"text-indigo-600"]])},null,8,["class"])],2),t("div",oo,[t("h4",{class:n(["font-medium text-sm sm:text-base truncate",[s(l)?"text-white":"text-gray-900"]])},D(A.value.filename),3),t("p",{class:n(["text-xs sm:text-sm truncate",[s(l)?"text-gray-400":"text-gray-500"]])},D(A.value.size)+" Â· "+D(A.value.date),3)])]),t("div",ao,[t("div",ro,[k(s(dt),{class:n(["w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0",[s(l)?"text-gray-400":"text-gray-500"]])},null,8,["class"]),t("span",{class:n(["text-xs sm:text-sm truncate",[s(l)?"text-gray-300":"text-gray-600"]])},D(A.value.expiration),3)]),t("div",so,[k(s(be),{class:n(["w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0",[s(l)?"text-gray-400":"text-gray-500"]])},null,8,["class"]),t("span",{class:n(["text-xs sm:text-sm truncate",[s(l)?"text-gray-300":"text-gray-600"]])}," å®‰å…¨åŠ å¯† ",2)])])],2),t("div",lo,[t("div",no,[t("div",io,[t("div",co,[e[25]||(e[25]=t("h4",{class:"font-medium text-sm sm:text-base"},"å–ä»¶ç ",-1)),t("button",{onClick:e[11]||(e[11]=o=>s(lt)(A.value.retrieveCode)),class:"p-1.5 sm:p-2 rounded-full hover:bg-white/10 transition-colors"},[k(s(ke),{class:"w-4 h-4 sm:w-5 sm:h-5"})])]),t("p",uo,D(A.value.retrieveCode),1)]),t("div",{class:n(["rounded-xl p-3 sm:p-4",[s(l)?"bg-gray-800 bg-opacity-50":"bg-gray-50 bg-opacity-95"]])},[t("div",go,[t("h4",{class:n(["font-medium text-sm sm:text-base flex items-center min-w-0",[s(l)?"text-white":"text-gray-900"]])},[k(s(vt),{class:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 text-indigo-500 flex-shrink-0"}),e[26]||(e[26]=t("span",{class:"truncate"},"wgetä¸‹è½½",-1))],2),t("button",{onClick:e[12]||(e[12]=o=>s(nt)(A.value.retrieveCode,A.value.filename)),class:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex-shrink-0"},[k(s(ke),{class:n(["w-4 h-4 sm:w-5 sm:h-5",[s(l)?"text-gray-400":"text-gray-500"]])},null,8,["class"])])]),t("p",{class:n(["text-xs sm:text-sm font-mono break-all line-clamp-2",[s(l)?"text-gray-300":"text-gray-600"]])}," ç‚¹å‡»å¤åˆ¶wgetå‘½ä»¤ ",2)],2)]),t("div",{class:n(["rounded-xl p-4 sm:p-5 flex flex-col items-center",[s(l)?"bg-gray-800 bg-opacity-50":"bg-gray-50 bg-opacity-95"]])},[t("div",po,[k(it,{value:Ge(A.value),size:140,level:"M",class:"sm:w-[160px] sm:h-[160px]"},null,8,["value"])]),t("p",{class:n(["text-xs sm:text-sm truncate max-w-full",[s(l)?"text-gray-400":"text-gray-500"]])}," æ‰«æäºŒç»´ç å¿«é€Ÿå–ä»¶ ",2)],2)])]),t("div",{class:n(["px-4 sm:px-6 py-3 sm:py-4 border-t",[s(l)?"border-gray-800":"border-gray-100"]])},[t("button",{onClick:e[13]||(e[13]=o=>s(ee)(A.value.retrieveCode)),class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg text-sm sm:text-base font-medium transition-colors"}," å¤åˆ¶å–ä»¶é“¾æ¥ ")],2)],2)])):V("",!0)]),_:1})],32)}}}),bo=Ce(vo,[["__scopeId","data-v-5a6f80fc"]]);export{bo as default};
